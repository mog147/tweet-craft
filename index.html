<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <title>Tweet Craft - デザイナーのためのポスト生成</title>
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
  <style>
    :root {
      /* Apple-like System Colors */
      --bg: #F5F5F7;
      --surface: #FFFFFF;
      --surface-secondary: #F2F2F7;
      --text: #1D1D1F;
      --text-secondary: #86868B;
      --text-tertiary: #AEAEB2;
      --border: rgba(0, 0, 0, 0.05);
      --accent: #007AFF;
      --accent-glow: rgba(0, 122, 255, 0.15);
      --danger: #FF3B30;
      --success: #34C759;
      --warning: #FF9500;

      /* Spacing & Layout */
      --radius-sm: 12px;
      --radius-md: 20px;
      --radius-lg: 28px;
      --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.05);
      --shadow-md: 0 6px 16px rgba(0, 0, 0, 0.06);
      --shadow-lg: 0 12px 32px rgba(0, 0, 0, 0.08);
      --font-main: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Helvetica Neue", sans-serif;
      --header-height: 60px;
    }

    [data-theme="dark"] {
      --bg: #000000;
      --surface: #1C1C1E;
      --surface-secondary: #2C2C2E;
      --text: #F5F5F7;
      --text-secondary: #98989D;
      --text-tertiary: #636366;
      --border: rgba(255, 255, 255, 0.1);
      --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3);
      --shadow-md: 0 6px 20px rgba(0, 0, 0, 0.4);
      --shadow-lg: 0 12px 32px rgba(0, 0, 0, 0.5);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-font-smoothing: antialiased;
    }

    body {
      font-family: var(--font-main);
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      transition: background .3s ease, color .3s ease;
      font-size: 15px;
      line-height: 1.5;
    }

    /* Header */
    .header {
      position: sticky;
      top: 0;
      z-index: 100;
      background: rgba(255, 255, 255, 0.8);
      height: var(--header-height);
      padding: 0 20px;
      display: grid;
      grid-template-columns: 1fr auto 1fr;
      align-items: center;
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border);
      transition: background .3s;
    }

    [data-theme="dark"] .header {
      background: rgba(0, 0, 0, 0.7);
    }

    .logo-icon {
      width: 32px;
      height: 32px;
      background: var(--accent);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      color: #fff;
      font-weight: 700;
      box-shadow: 0 2px 8px var(--accent-glow);
    }

    .logo h1 {
      font-size: 17px;
      font-weight: 600;
      letter-spacing: -0.02em;
    }

    .logo h1 span {
      color: var(--accent);
    }

    .logo:hover {
      opacity: 0.8;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
      cursor: pointer;
      transition: opacity 0.2s;
      justify-self: start;
    }

    .logo:hover {
      opacity: 0.8;
    }

    .theme-btn {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      border: none;
      background: var(--surface-secondary);
      color: var(--text);
      cursor: pointer;
      font-size: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all .2s;
      justify-self: end;
    }

    /* Page Nav (Segmented Control) */
    .page-nav {
      display: flex;
      background: var(--surface-secondary);
      padding: 3px;
      border-radius: 10px;
      position: relative;
      justify-self: center;
    }

    .theme-btn:hover {
      background: var(--border);
      transform: scale(1.05);
    }

    .page-nav a {
      padding: 6px 16px;
      border-radius: 8px;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      text-decoration: none;
      color: var(--text-secondary);
      transition: all .2s cubic-bezier(0.2, 0.8, 0.2, 1);
      position: relative;
      z-index: 2;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .page-nav a .material-symbols-outlined {
      font-size: 16px;
    }

    .page-nav a.active {
      color: var(--text);
      background: var(--surface);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    }

    .page-nav a:hover:not(.active) {
      color: var(--text);
    }

    /* Container */
    .container {
      max-width: 640px;
      margin: 0 auto;
      padding: 0 20px 120px;
    }

    /* Category Tabs */

    /* Category Tabs */
    .cat-bar {
      display: flex;
      overflow-x: auto;
      gap: 8px;
      padding: 4px 0 24px;
      scrollbar-width: none;
      -webkit-overflow-scrolling: touch;
    }

    .cat-bar::-webkit-scrollbar {
      display: none;
    }

    .cat-btn {
      padding: 8px 18px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      white-space: nowrap;
      background: transparent;
      color: var(--text-secondary);
      transition: all .2s;
      flex-shrink: 0;
    }

    .cat-btn.active {
      background: var(--text);
      color: var(--bg);
    }

    .cat-btn:hover:not(.active) {
      background: var(--surface-secondary);
      color: var(--text);
    }

    /* Tweet Cards */
    .tweet-card {
      background: var(--surface);
      border-radius: var(--radius-md);
      padding: 24px;
      margin-bottom: 20px;
      box-shadow: var(--shadow-sm);
      transition: all .25s ease;
      border: 1px solid transparent;
      position: relative;
      overflow: hidden;
    }

    .tweet-card:hover {
      box-shadow: var(--shadow-md);
      transform: translateY(-2px);
    }

    .tweet-top {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 16px;
    }

    .tweet-avatar {
      width: 44px;
      height: 44px;
      border-radius: 14px;
      background: linear-gradient(135deg, var(--accent), #5E5CE6);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-weight: 700;
      font-size: 18px;
      flex-shrink: 0;
      box-shadow: 0 4px 12px var(--accent-glow);
    }

    .tweet-user {
      flex: 1;
    }

    .tweet-name {
      font-size: 15px;
      font-weight: 700;
      color: var(--text);
      margin-bottom: 2px;
    }

    .tweet-handle {
      font-size: 13px;
      color: var(--text-secondary);
    }

    .tweet-body {
      font-size: 16px;
      line-height: 1.7;
      margin-bottom: 20px;
      white-space: pre-wrap;
      word-break: break-all;
      color: var(--text);
      letter-spacing: 0.01em;
    }

    .tweet-body .hashtag {
      color: var(--accent);
      font-weight: 500;
      cursor: pointer;
    }

    .tweet-body .hashtag:hover {
      text-decoration: underline;
    }

    .tweet-meta {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      padding-top: 16px;
      border-top: 1px solid var(--border);
    }

    .tweet-tags {
      display: flex;
      gap: 6px;
      flex-wrap: wrap;
    }

    .tweet-tag {
      padding: 4px 10px;
      border-radius: 6px;
      font-size: 11px;
      font-weight: 600;
      background: var(--surface-secondary);
      color: var(--text-secondary);
      transition: all 0.2s;
    }

    .tweet-tag.t-ai {
      color: var(--accent);
      background: rgba(0, 122, 255, 0.08);
    }

    .tweet-tag.t-figma {
      color: #BF5AF2;
      /* Purple */
      background: rgba(191, 90, 242, 0.08);
    }

    .tweet-tag.t-trend {
      color: #FF2D55;
      /* Pink */
      background: rgba(255, 45, 85, 0.08);
    }

    .char-count {
      font-size: 12px;
      color: var(--text-tertiary);
      font-feature-settings: "tnum";
      font-weight: 500;
    }

    .char-count.over {
      color: var(--danger);
    }

    /* Buttons */
    .btn-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-top: 16px;
    }

    .copy-btn {
      padding: 12px;
      border-radius: 12px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      border: none;
      transition: all .2s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .copy-btn.primary {
      background: var(--accent);
      color: #fff;
      box-shadow: 0 4px 12px var(--accent-glow);
    }

    .copy-btn.primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 6px 16px var(--accent-glow);
    }

    .copy-btn.primary:active {
      transform: scale(0.98);
    }

    .copy-btn.secondary {
      background: var(--surface-secondary);
      color: var(--text);
    }

    .copy-btn.secondary:hover {
      background: var(--border);
    }

    .copy-btn.copied {
      background: var(--success);
      color: #fff;
      box-shadow: 0 4px 12px rgba(52, 199, 89, 0.3);
    }

    /* FAB */
    .fab {
      position: fixed;
      bottom: 32px;
      right: 32px;
      width: 64px;
      height: 64px;
      border-radius: 50%;
      background: var(--accent);
      color: #fff;
      border: none;
      font-size: 28px;
      cursor: pointer;
      box-shadow: var(--shadow-lg);
      z-index: 90;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all .3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    .fab:hover {
      transform: scale(1.1) rotate(15deg);
    }

    .fab:active {
      transform: scale(0.95);
    }

    /* Toast */
    .toast {
      position: fixed;
      bottom: 40px;
      left: 50%;
      transform: translateX(-50%) translateY(40px);
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(10px);
      color: #fff;
      padding: 12px 24px;
      border-radius: 50px;
      font-size: 14px;
      font-weight: 600;
      z-index: 1000;
      opacity: 0;
      transition: all .4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      pointer-events: none;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .toast.show {
      opacity: 1;
      transform: translateX(-50%) translateY(0);
    }

    /* Empty State */
    .empty {
      text-align: center;
      padding: 60px 20px;
      color: var(--text-tertiary);
      font-size: 15px;
    }

    /* Animation */
    @keyframes spin {
      100% {
        transform: rotate(360deg);
      }
    }

    .spinning {
      animation: spin 0.6s ease-in-out;
    }

    /* Responsive */
    @media(max-width:480px) {
      .container {
        padding: 0 16px 100px;
      }

      .header {
        padding: 0 16px;
      }

      .tweet-card {
        padding: 20px;
        border-radius: 20px;
      }

      .fab {
        bottom: 24px;
        right: 24px;
        width: 56px;
        height: 56px;
      }
    }
  </style>
</head>

<body>
  <div class="toast" id="toast"></div>

  <div class="header">
    <div class="logo">
      <div class="logo-icon">X</div>

    </div>
    <nav class="page-nav">
      <a href="index.html" class="active" aria-label="ポスト集"><span
          class="material-symbols-outlined">description</span></a>
      <a href="brush-up.html" aria-label="ブラッシュアップ"><span class="material-symbols-outlined">brush</span></a>
    </nav>
    <button class="theme-btn" id="theme-btn" onclick="toggleTheme()" aria-label="テーマ切替"></button>
  </div>

  <div class="container">
    <div class="cat-bar" id="cat-bar"></div>
    <div id="tweet-list"></div>
  </div>

  <button class="fab" id="fab" onclick="shuffle()" title="シャッフル"><span
      class="material-symbols-outlined">shuffle</span></button>

  <script>
    // ===== THEME =====
    function initTheme() { const t = localStorage.getItem('tc-theme') || 'dark'; document.documentElement.dataset.theme = t; updateThemeIcon() }
    function toggleTheme() { const t = document.documentElement.dataset.theme === 'dark' ? 'light' : 'dark'; document.documentElement.dataset.theme = t; localStorage.setItem('tc-theme', t); updateThemeIcon() }
    function updateThemeIcon() { document.getElementById('theme-btn').innerHTML = `<span class="material-symbols-outlined">${document.documentElement.dataset.theme === 'dark' ? 'light_mode' : 'dark_mode'}</span>` }
    initTheme();

    // ===== TOAST =====
    function showToast(msg) { const t = document.getElementById('toast'); t.innerHTML = msg; t.classList.add('show'); setTimeout(() => t.classList.remove('show'), 1500) }

    // ===== TWEETS =====
    const tweets = [
      // AI系
      { cat: 'AI', tags: ['AI', 'トレンド'], text: '40代からデザイナーになって、ふと気づいたことがあって。AIって「仕事を奪う怖い存在」じゃなくて、「そっと隣にいてくれる心強い存在」なのかもしれない。経験が足りない分を、静かに補ってくれる。そんな優しい関係もあるんだなって。' },
      { cat: 'AI', tags: ['AI'], text: 'ChatGPTにUIの文言をお願いしてみたら、私が3時間かけて悩んでいた言葉を、そっと差し出してくれた。少し悔しいけど、でも…最後に「これがいい」って選ぶのは、やっぱり自分の心だと思うから。その感覚は大切にしたいな。' },
      { cat: 'AI', tags: ['AI', 'Figma'], text: 'Figma AIがレイアウトを整えてくれる機能、使ってみて静かに感動してしまった。「Rectangle 847」だらけだった頃の自分にそっと教えてあげたい。大丈夫、少しずつ整っていくからって。' },
      { cat: 'AI', tags: ['AI'], text: 'MidjourneyでUIのイメージを出して、Figmaでそっとなぞってみるの、すごく心地いい練習法だなって。AIが出してくれるものって「惜しいけど何か違う」のが絶妙で、自分で直す時間がいちばん深い学びになる気がする。' },
      { cat: 'AI', tags: ['AI', 'トレンド'], text: 'Adobe Fireflyでアイコンを作って、Figmaで少しだけ手を加えて、デザインシステムにそっと組み込む。この流れを知ってから、素材探しで途方に暮れる時間がなくなった。新しいものに手を伸ばしてよかったなって、静かに思う。' },
      { cat: 'AI', tags: ['AI'], text: '「AIを使ったらみんな同じデザインになる」という声を聞くと、少しだけ胸が痛む。でもね、プロンプトにどれだけ自分の想いを込められるかで、出てくるものは全然違うの。言葉にする力が、そのままデザインの力になっていく時代なんだと思う。' },
      { cat: 'AI', tags: ['AI', 'トレンド'], text: 'Geminiにインタビューの記録を読んでもらったら、自分が気づけなかった視点をそっと教えてくれた。負けたわけじゃなく、一緒に見つけたんだって思えた。ひとりじゃ見えなかった景色を、AIと一緒に見ている感覚。' },
      { cat: 'AI', tags: ['AI'], text: '40代の自分にできること。それは、AIが出した言葉に対して「なんだか少し違うな」と感じた時に、その違和感をちゃんと言葉にできること。20年間のいろんな経験が、今こうして静かに活きている気がして。' },

      // Figma系
      { cat: 'Figma', tags: ['Figma'], text: 'Figmaを始めて3ヶ月目。Auto Layoutの仕組みがすとんと腑に落ちた瞬間、少しだけ世界の見え方が変わった気がした。ひとつずつ余白を手で直していた頃の自分に、「大丈夫だよ」って伝えたい。' },
      { cat: 'Figma', tags: ['Figma'], text: 'Figmaのコンポーネント設計、正直最初は面倒だなって思ってた。でも50画面目を作った時、過去の自分に「ありがとう」って心の中でつぶやいてた。地道なことの先に、ちゃんとご褒美がある。' },
      { cat: 'Figma', tags: ['Figma', 'トレンド'], text: 'Figma Variablesに触れてみたら、デザイントークンの管理がふわっと軽くなった。色もスペーシングも、変数ひとつで静かに統一される。「全部の色を変えて」と言われても、深呼吸ひとつで対応できる。そんな安心感がうれしい。' },
      { cat: 'Figma', tags: ['Figma'], text: 'Figmaでプロトタイプを見せたら、「もう完成ですか？」って驚いてもらえた。伝わるって、こんなにあたたかいことなんだ。言葉じゃ届かなかった想いが、画面を通じてそっと届いた瞬間。' },
      { cat: 'Figma', tags: ['Figma'], text: 'DevModeが使えるようになって、エンジニアさんとのやりとりが穏やかになった。「ここ何pxですか？」「DevMode見てくださいね」、それだけで空気がやわらかくなる。Figmaが静かに架け橋を作ってくれている。' },
      { cat: 'Figma', tags: ['Figma'], text: 'Figma Communityの日本語テンプレート、最近とても充実してきていて。先輩たちが残してくれたコンポーネント設計を読み解く時間が、いちばん穏やかで深い学びになる。ひとりで学ぶ人のそばに、そっと寄り添ってくれる場所。' },

      // デザイン思考・マインド系
      { cat: 'マインド', tags: ['トレンド'], text: '40代でデザイナーになって1年。「若い人にはかなわないな」って静かに俯いた夜もある。でもね、20年間「使う人」として感じてきたこと、それはどんな教科書にも載っていない大切なもので。遅すぎるなんてこと、きっとないから。' },
      { cat: 'マインド', tags: [], text: 'デザインの4原則「近接・整列・反復・コントラスト」を知ってから、スーパーのチラシにも思わず見入ってしまうようになった。日常のすべてが、そっと教えてくれている。40代の目に映る世界は、思っていたより豊かだった。' },
      { cat: 'マインド', tags: [], text: '「なんかしっくりこない」を「余白がもう少しほしいかも」「コントラストをやさしくしたら」って言葉にできるようになった。この1年で得たいちばん大きなもの。感覚を言葉にすることが、デザインの第一歩なのかもしれない。' },
      { cat: 'マインド', tags: [], text: 'あの頃の自分に伝えたいこと。Dribbbleの美しい作品を見て落ち込まなくていいよ。「なぜ美しいと感じたのか」を3つだけ書き出してみて。感じることは才能。それを言葉にすれば、きっと自分のものになるから。' },
      { cat: 'マインド', tags: ['トレンド'], text: '最近のデザイントレンドはミニマル回帰。「足す」より「引く」って、実は繊細な感性が必要なこと。人生の中で学んだ「余白の大切さ」が、そのままUIに息づいている。40代の感受性が、静かに活きる場所がある。' },
      { cat: 'マインド', tags: [], text: 'デザインレビューで「もうちょっと良い感じに」と言われて、胸がぎゅっとなった新人の頃。今は「どの部分をどう変えましょうか」って、やさしく聞き返せるようになった。あの頃の痛みも、ちゃんと今の自分を作ってくれてる。' },
      { cat: 'マインド', tags: [], text: '朝のささやかなルーティン。目覚めたらDribbbleを3つだけ眺めて、Figmaでコンポーネントをひとつだけ作る。たった15分。でも半年続けたら、200個の小さな積み重ねになっていた。焦らなくていい、そう思えた朝。' },
      { cat: 'マインド', tags: [], text: '営業を10年やってからデザイナーに転身して、ひとつ気づいたこと。「使う人の気持ちが自然とわかる」って、思っていたよりずっとかけがえのない力だった。前の仕事で感じたことすべてが、今の自分をそっと支えてくれている。' },

      // トレンド・テクニカル
      { cat: 'トレンド', tags: ['トレンド'], text: '2026年のUIトレンド、少しだけ整理してみた。デザイントークン、AIとの共創、アクセシビリティ、マイクロインタラクション。どれもFigmaでそっと始められる。今からでも、ゆっくりで大丈夫。' },
      { cat: 'トレンド', tags: ['トレンド', 'AI'], text: '「AIに仕事を奪われるの？」って聞かれると、少し考え込んでしまう。でもきっと、人間にしかできないことがある。誰かの気持ちに寄り添うこと、文脈を読むこと、「これでいいのかな」と立ち止まれること。その繊細さこそが、これからの武器。' },
      { cat: 'トレンド', tags: ['トレンド'], text: 'ダークモードの対応、ただ色を反転するだけじゃ足りなくて。彩度をそっと落としたり、影を繊細に調整したり。細やかな気配りが求められるからこそ、丁寧に向き合える人が輝けるポイントだと思う。' },
      { cat: 'トレンド', tags: ['トレンド', 'Figma'], text: 'デザインシステムって「作る」だけじゃなくて「育てていく」ものなのかもしれない。Figma Variablesでトークンを整えて、Style Dictionaryでそっと実装につなげる。設計と開発の境界がやわらかく溶けていく、その感覚が心地いい。' },
      { cat: 'トレンド', tags: ['トレンド'], text: 'アクセシビリティって「しなきゃいけないこと」じゃなくて、「やさしいデザインの証」だと思う。コントラスト比を整えて、フォーカスを見えるようにして、代替テキストをそっと添える。それだけで、届く人がぐっと増える。' },
      { cat: 'トレンド', tags: ['トレンド'], text: 'レスポンシブデザイン、小さな画面から始めて広げていく方が、ずっとうまくいくって気づくまで半年かかった。最初から完璧じゃなくていい。小さなところから丁寧に積み上げていけば、ちゃんと形になっていくから。' },

      // 実践Tips
      { cat: 'Tips', tags: ['Figma'], text: 'もしデザインを始めたばかりなら、こんな方法はどうかな。好きなアプリをFigmaでそっとなぞってみて、「なぜこの配置なんだろう」と感じてみて、自分なりの案をひとつ出してみる。その繰り返しが、きっと自分だけの力になる。' },
      { cat: 'Tips', tags: [], text: 'フォント選びに迷って止まってしまったら、まずはNoto Sans JPから始めてみて。読みやすくてやさしい書体。そこから「なぜ読みやすいと感じるんだろう」と考えてみると、次のフォントへの道が見えてくる。焦らなくて大丈夫。' },
      { cat: 'Tips', tags: [], text: '配色で手が止まってしまう時のこと。まずは好きな色をひとつ選んで、その色の明るさを3段階に分けてみて。そこにアクセントをそっとひとつ。60-30-10の割合で並べるだけで、不思議と心地よい配色になるの。' },
      { cat: 'Tips', tags: ['Figma'], text: 'UIデザインでいちばん大切なのは、きっと余白。迷ったら余白を少し広げてみて。要素をひとつ減らしてみて。情報をそっと手放してみて。「引く」ことができるのは、繊細に感じ取れる人だからこそ。' },
      { cat: 'Tips', tags: ['AI'], text: 'Figma、ChatGPT、Midjourney。この3つがそばにあれば、40代からでもひとりで企画からプロトタイプまで作れる。でも本当に大事なのは道具じゃなく「誰のために、何を作りたいか」という、静かに燃える想いだと思う。' },
      { cat: 'Tips', tags: [], text: 'ボタンのデザインで気をつけていること。主役と脇役の階層をやさしく分けること、指で触れやすい大きさを確保すること、ラベルには「送信する」「保存する」と動詞を添えること。小さな気配りが、使う人の安心感になる。' },
      { cat: 'Tips', tags: ['トレンド'], text: 'UIをトレースする時、ピクセルの正確さよりも「なぜこうしたのかな」と想像してみることが大切。余白のリズム、色のやさしい使い分け、文字の大小。作った人の意図にそっと耳を傾けるトレースは、きっと深い成長につながる。' },
      { cat: 'Tips', tags: [], text: '40代でデザイナーに転身して学んだこと。ポートフォリオに並べるべきは「きれいな成果物」より「悩んで考えたプロセス」。なぜこの色を選んだのか、なぜこの配置にしたのか。理由をやさしく語れるデザイナーでありたい。' },
    ];

    const categories = ['すべて', 'AI', 'Figma', 'マインド', 'トレンド', 'Tips'];
    let currentCat = 'すべて';
    let shuffleSeed = Date.now();

    // ===== RENDER =====
    function getFiltered() {
      let f = currentCat === 'すべて' ? [...tweets] : tweets.filter(t => t.cat === currentCat);
      // Shuffle using seed
      const rng = seed => { seed = seed | 0; return () => { seed = seed + 0x6D2B79F5 | 0; let t = Math.imul(seed ^ seed >>> 15, 1 | seed); t = t + Math.imul(t ^ t >>> 7, 61 | t) ^ t; return ((t ^ t >>> 14) >>> 0) / 4294967296 } };
      const r = rng(shuffleSeed);
      for (let i = f.length - 1; i > 0; i--) { const j = Math.floor(r() * i);[f[i], f[j]] = [f[j], f[i]] }
      return f;
    }

    function renderTweets() {
      const f = getFiltered();
      document.getElementById('tweet-list').innerHTML = f.length ? f.map((t, i) => {
        const charCount = t.text.replace(/#\S+/g, m => 'x'.repeat(Math.min(m.length, 23))).length;
        const bodyHtml = t.text.replace(/#(\S+)/g, '<span class="hashtag">#$1</span>');
        return `<div class="tweet-card">
      <div class="tweet-top">
        <div class="tweet-avatar">D</div>
        <div class="tweet-user">
          <div class="tweet-name">40代新人デザイナー</div>
          <div class="tweet-handle">@designer_40s</div>
        </div>
      </div>
      <div class="tweet-body">${bodyHtml}</div>
      <div class="tweet-meta">
        <div class="tweet-tags">${t.tags.map(tg => { const c = tg === 'AI' ? 't-ai' : tg === 'Figma' ? 't-figma' : tg === 'トレンド' ? 't-trend' : ''; return `<span class="tweet-tag ${c}">${tg}</span>` }).join('')}</div>
        <span class="char-count ${charCount > 140 ? 'over' : ''}">${charCount}/140</span>
      </div>
      <div class="btn-row">
        <button class="copy-btn primary" id="copy-${i}" onclick="copyTweet(${i},'copy-${i}')">&#128203; コピーする</button>
        <button class="copy-btn secondary" onclick="postTweet(${i})" title="Xで投稿">&#120143; ポストする</button>
      </div>
    </div>`}).join('') : '<div class="empty">該当するポストがありません</div>';
    }

    function renderCats() {
      document.getElementById('cat-bar').innerHTML = categories.map(c => `<div class="cat-btn ${c === currentCat ? 'active' : ''}" onclick="selectCat('${c}')">${c === 'すべて' ? 'すべて (' + tweets.length + ')' : c + ' (' + tweets.filter(t => t.cat === c).length + ')'}</div>`).join('');
    }

    function selectCat(cat) { currentCat = cat; renderCats(); renderTweets() }
    function shuffle() {
      shuffleSeed = Date.now();
      const fab = document.getElementById('fab');
      fab.classList.remove('spinning');
      void fab.offsetWidth;
      fab.classList.add('spinning');
      renderTweets();
      showToast('&#8635; シャッフルしました');
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // ===== COPY =====
    function copyTweet(idx, btnId) {
      const f = getFiltered();
      const text = f[idx].text;
      navigator.clipboard.writeText(text).then(() => {
        const btn = document.getElementById(btnId);
        btn.classList.add('copied');
        btn.innerHTML = '&#10003; コピー完了!';
        showToast('&#10003; クリップボードにコピーしました');
        setTimeout(() => { btn.classList.remove('copied'); btn.innerHTML = '&#128203; コピーする' }, 2000);
      });
    }

    function postTweet(idx) {
      const f = getFiltered();
      const text = encodeURIComponent(f[idx].text);
      window.open('https://twitter.com/intent/tweet?text=' + text, '_blank');
    }

    // ===== INIT =====
    renderCats(); renderTweets();
  </script>
</body>

</html>