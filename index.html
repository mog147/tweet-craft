<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <title>Tweet Craft - デザイナーのためのポスト生成</title>
  <style>
    :root {
      --accent: #1d9bf0;
      --accent2: #8ecdf7;
      --green: #00ba7c;
      --pink: #f472b6;
      --purple: #a78bfa;
      --orange: #fb923c;
      --red: #f87171;
      --yellow: #fbbf24;
      --radius: 16px
    }

    [data-theme="dark"] {
      --bg: #000;
      --surface: #16181c;
      --surface2: #1d1f23;
      --surface3: #2f3336;
      --border: #2f3336;
      --text: #e7e9ea;
      --text2: #71767b;
      --text3: #536471;
      --card-shadow: none
    }

    [data-theme="light"] {
      --bg: #f7f9f9;
      --surface: #fff;
      --surface2: #eff3f4;
      --surface3: #cfd9de;
      --border: #eff3f4;
      --text: #0f1419;
      --text2: #536471;
      --text3: #8899a6;
      --card-shadow: 0 1px 3px rgba(0, 0, 0, .08)
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans JP', sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      min-height: 100dvh;
      transition: background .2s, color .2s
    }

    /* Header */
    .header {
      position: sticky;
      top: 0;
      z-index: 50;
      background: var(--bg);
      border-bottom: 1px solid var(--border);
      padding: 12px 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      transition: background .2s;
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px)
    }

    [data-theme="dark"] .header {
      background: rgba(0, 0, 0, .75)
    }

    [data-theme="light"] .header {
      background: rgba(247, 249, 249, .85)
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 8px
    }

    .logo-icon {
      width: 32px;
      height: 32px;
      background: var(--accent);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      color: #fff;
      font-weight: 900
    }

    .logo h1 {
      font-size: 17px;
      font-weight: 800
    }

    .logo h1 span {
      color: var(--accent)
    }

    .header-actions {
      display: flex;
      align-items: center;
      gap: 8px
    }

    .theme-btn {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      border: 1px solid var(--border);
      background: var(--surface);
      color: var(--text);
      cursor: pointer;
      font-size: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all .15s;
      -webkit-tap-highlight-color: transparent
    }

    .theme-btn:hover {
      background: var(--surface2)
    }

    /* Page Nav */
    .page-nav {
      display: flex;
      gap: 2px;
      background: var(--surface2);
      border-radius: 12px;
      padding: 3px;
    }

    .page-nav a {
      padding: 7px 16px;
      border-radius: 10px;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      white-space: nowrap;
      text-decoration: none;
      color: var(--text2);
      transition: all .15s;
      -webkit-tap-highlight-color: transparent;
    }

    .page-nav a.active {
      background: var(--accent);
      color: #fff;
    }

    .page-nav a:hover:not(.active) {
      color: var(--text);
      background: var(--surface3);
    }

    /* Container */
    .container {
      max-width: 620px;
      margin: 0 auto;
      padding: 0 12px 100px
    }

    /* Category tabs */
    .cat-bar {
      display: flex;
      overflow-x: auto;
      gap: 6px;
      padding: 14px 0;
      scrollbar-width: none;
      -webkit-overflow-scrolling: touch
    }

    .cat-bar::-webkit-scrollbar {
      display: none
    }

    .cat-btn {
      padding: 8px 16px;
      border-radius: 99px;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      white-space: nowrap;
      border: 1px solid var(--border);
      background: var(--surface);
      color: var(--text2);
      transition: all .12s;
      -webkit-tap-highlight-color: transparent;
      flex-shrink: 0
    }

    .cat-btn.active {
      background: var(--accent);
      color: #fff;
      border-color: var(--accent)
    }

    .cat-btn:hover:not(.active) {
      background: var(--surface2);
      color: var(--text)
    }

    /* Tweet card */
    .tweet-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 16px;
      margin-bottom: 12px;
      transition: all .15s;
      box-shadow: var(--card-shadow)
    }

    .tweet-card:hover {
      border-color: var(--surface3)
    }

    .tweet-top {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px
    }

    .tweet-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--accent), var(--purple));
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-weight: 700;
      font-size: 16px;
      flex-shrink: 0
    }

    .tweet-user {
      flex: 1
    }

    .tweet-name {
      font-size: 14px;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 4px
    }

    .tweet-handle {
      font-size: 13px;
      color: var(--text2)
    }

    .tweet-body {
      font-size: 15px;
      line-height: 1.75;
      margin-bottom: 12px;
      white-space: pre-wrap;
      word-break: break-all
    }

    .tweet-body .hashtag {
      color: var(--accent)
    }

    .tweet-meta {
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 8px
    }

    .tweet-tags {
      display: flex;
      gap: 5px;
      flex-wrap: wrap;
      flex: 1
    }

    .tweet-tag {
      padding: 3px 9px;
      border-radius: 99px;
      font-size: 10px;
      font-weight: 600;
      background: var(--surface2);
      color: var(--text2);
      border: 1px solid var(--border)
    }

    .tweet-tag.t-ai {
      background: rgba(29, 155, 240, .1);
      color: var(--accent);
      border-color: rgba(29, 155, 240, .2)
    }

    .tweet-tag.t-figma {
      background: rgba(167, 139, 250, .1);
      color: var(--purple);
      border-color: rgba(167, 139, 250, .2)
    }

    .tweet-tag.t-trend {
      background: rgba(244, 114, 182, .1);
      color: var(--pink);
      border-color: rgba(244, 114, 182, .2)
    }

    .char-count {
      font-size: 11px;
      color: var(--text3);
      flex-shrink: 0
    }

    .char-count.over {
      color: var(--red);
      font-weight: 700
    }

    /* Buttons */
    .btn-row {
      display: flex;
      gap: 6px;
      margin-top: 10px
    }

    .copy-btn {
      flex: 1;
      padding: 10px;
      border-radius: 10px;
      font-size: 13px;
      font-weight: 700;
      cursor: pointer;
      border: none;
      transition: all .12s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      -webkit-tap-highlight-color: transparent
    }

    .copy-btn.primary {
      background: var(--accent);
      color: #fff
    }

    .copy-btn.primary:hover {
      opacity: .85
    }

    .copy-btn.primary:active {
      transform: scale(.97)
    }

    .copy-btn.secondary {
      background: var(--surface2);
      color: var(--text);
      border: 1px solid var(--border)
    }

    .copy-btn.secondary:hover {
      background: var(--surface3)
    }

    .copy-btn.copied {
      background: var(--green);
      color: #fff;
      border-color: var(--green)
    }

    /* Shuffle fab */
    .fab {
      position: fixed;
      bottom: 24px;
      right: 24px;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background: var(--accent);
      color: #fff;
      border: none;
      font-size: 24px;
      cursor: pointer;
      box-shadow: 0 4px 16px rgba(29, 155, 240, .35);
      z-index: 40;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all .15s;
      -webkit-tap-highlight-color: transparent
    }

    .fab:hover {
      transform: scale(1.08)
    }

    .fab:active {
      transform: scale(.95)
    }

    /* Toast */
    .toast {
      position: fixed;
      bottom: 90px;
      left: 50%;
      transform: translateX(-50%) translateY(20px);
      background: var(--surface2);
      border: 1px solid var(--border);
      color: var(--text);
      padding: 10px 24px;
      border-radius: 12px;
      font-size: 13px;
      font-weight: 600;
      z-index: 999;
      opacity: 0;
      transition: all .25s;
      pointer-events: none;
      white-space: nowrap
    }

    .toast.show {
      opacity: 1;
      transform: translateX(-50%) translateY(0)
    }

    /* Section header */
    .section-hdr {
      padding: 16px 0 8px;
      font-size: 13px;
      color: var(--text2);
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 6px
    }

    .section-hdr .dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      flex-shrink: 0
    }

    /* Stats bar */
    .stats-bar {
      display: flex;
      gap: 8px;
      padding: 10px 0;
      overflow-x: auto;
      scrollbar-width: none
    }

    .stats-bar::-webkit-scrollbar {
      display: none
    }

    .stat-chip {
      padding: 8px 14px;
      border-radius: 12px;
      background: var(--surface);
      border: 1px solid var(--border);
      font-size: 12px;
      white-space: nowrap;
      display: flex;
      align-items: center;
      gap: 6px;
      flex-shrink: 0
    }

    .stat-num {
      font-weight: 800;
      font-size: 15px
    }

    /* Refresh animation */
    @keyframes spin {
      to {
        transform: rotate(360deg)
      }
    }

    .spinning {
      animation: spin .5s ease
    }

    /* Empty */
    .empty {
      text-align: center;
      padding: 40px 20px;
      color: var(--text2);
      font-size: 14px
    }

    /* Responsive */
    @media(max-width:480px) {
      .container {
        padding: 0 8px 100px
      }

      .tweet-body {
        font-size: 14.5px
      }

      .fab {
        bottom: 20px;
        right: 16px;
        width: 50px;
        height: 50px;
        font-size: 20px
      }

      .header {
        padding: 10px 12px
      }
    }
  </style>
</head>

<body>
  <div class="toast" id="toast"></div>

  <div class="header">
    <div class="logo">
      <div class="logo-icon">X</div>
      <h1><span>Tweet</span> Craft</h1>
    </div>
    <div class="header-actions">
      <nav class="page-nav">
        <a href="index.html" class="active">&#128221; ポスト集</a>
        <a href="brush-up.html">&#10024; ブラッシュアップ</a>
      </nav>
      <button class="theme-btn" id="theme-btn" onclick="toggleTheme()" aria-label="テーマ切替"></button>
    </div>
  </div>

  <div class="container">
    <div class="stats-bar" id="stats-bar"></div>
    <div class="cat-bar" id="cat-bar"></div>
    <div id="tweet-list"></div>
  </div>

  <button class="fab" id="fab" onclick="shuffle()" title="シャッフル">&#8635;</button>

  <script>
    // ===== THEME =====
    function initTheme() { const t = localStorage.getItem('tc-theme') || 'dark'; document.documentElement.dataset.theme = t; updateThemeIcon() }
    function toggleTheme() { const t = document.documentElement.dataset.theme === 'dark' ? 'light' : 'dark'; document.documentElement.dataset.theme = t; localStorage.setItem('tc-theme', t); updateThemeIcon() }
    function updateThemeIcon() { document.getElementById('theme-btn').textContent = document.documentElement.dataset.theme === 'dark' ? '&#9728;' : '&#9790;' }
    initTheme();

    // ===== TOAST =====
    function showToast(msg) { const t = document.getElementById('toast'); t.textContent = msg; t.classList.add('show'); setTimeout(() => t.classList.remove('show'), 1500) }

    // ===== TWEETS =====
    const tweets = [
      // AI系
      { cat: 'AI', tags: ['AI', 'トレンド'], text: '40代からデザイナーになって、ふと気づいたことがあって。AIって「仕事を奪う怖い存在」じゃなくて、「そっと隣にいてくれる心強い存在」なのかもしれない。経験が足りない分を、静かに補ってくれる。そんな優しい関係もあるんだなって。' },
      { cat: 'AI', tags: ['AI'], text: 'ChatGPTにUIの文言をお願いしてみたら、私が3時間かけて悩んでいた言葉を、そっと差し出してくれた。少し悔しいけど、でも…最後に「これがいい」って選ぶのは、やっぱり自分の心だと思うから。その感覚は大切にしたいな。' },
      { cat: 'AI', tags: ['AI', 'Figma'], text: 'Figma AIがレイアウトを整えてくれる機能、使ってみて静かに感動してしまった。「Rectangle 847」だらけだった頃の自分にそっと教えてあげたい。大丈夫、少しずつ整っていくからって。' },
      { cat: 'AI', tags: ['AI'], text: 'MidjourneyでUIのイメージを出して、Figmaでそっとなぞってみるの、すごく心地いい練習法だなって。AIが出してくれるものって「惜しいけど何か違う」のが絶妙で、自分で直す時間がいちばん深い学びになる気がする。' },
      { cat: 'AI', tags: ['AI', 'トレンド'], text: 'Adobe Fireflyでアイコンを作って、Figmaで少しだけ手を加えて、デザインシステムにそっと組み込む。この流れを知ってから、素材探しで途方に暮れる時間がなくなった。新しいものに手を伸ばしてよかったなって、静かに思う。' },
      { cat: 'AI', tags: ['AI'], text: '「AIを使ったらみんな同じデザインになる」という声を聞くと、少しだけ胸が痛む。でもね、プロンプトにどれだけ自分の想いを込められるかで、出てくるものは全然違うの。言葉にする力が、そのままデザインの力になっていく時代なんだと思う。' },
      { cat: 'AI', tags: ['AI', 'トレンド'], text: 'Geminiにインタビューの記録を読んでもらったら、自分が気づけなかった視点をそっと教えてくれた。負けたわけじゃなく、一緒に見つけたんだって思えた。ひとりじゃ見えなかった景色を、AIと一緒に見ている感覚。' },
      { cat: 'AI', tags: ['AI'], text: '40代の自分にできること。それは、AIが出した言葉に対して「なんだか少し違うな」と感じた時に、その違和感をちゃんと言葉にできること。20年間のいろんな経験が、今こうして静かに活きている気がして。' },

      // Figma系
      { cat: 'Figma', tags: ['Figma'], text: 'Figmaを始めて3ヶ月目。Auto Layoutの仕組みがすとんと腑に落ちた瞬間、少しだけ世界の見え方が変わった気がした。ひとつずつ余白を手で直していた頃の自分に、「大丈夫だよ」って伝えたい。' },
      { cat: 'Figma', tags: ['Figma'], text: 'Figmaのコンポーネント設計、正直最初は面倒だなって思ってた。でも50画面目を作った時、過去の自分に「ありがとう」って心の中でつぶやいてた。地道なことの先に、ちゃんとご褒美がある。' },
      { cat: 'Figma', tags: ['Figma', 'トレンド'], text: 'Figma Variablesに触れてみたら、デザイントークンの管理がふわっと軽くなった。色もスペーシングも、変数ひとつで静かに統一される。「全部の色を変えて」と言われても、深呼吸ひとつで対応できる。そんな安心感がうれしい。' },
      { cat: 'Figma', tags: ['Figma'], text: 'Figmaでプロトタイプを見せたら、「もう完成ですか？」って驚いてもらえた。伝わるって、こんなにあたたかいことなんだ。言葉じゃ届かなかった想いが、画面を通じてそっと届いた瞬間。' },
      { cat: 'Figma', tags: ['Figma'], text: 'DevModeが使えるようになって、エンジニアさんとのやりとりが穏やかになった。「ここ何pxですか？」「DevMode見てくださいね」、それだけで空気がやわらかくなる。Figmaが静かに架け橋を作ってくれている。' },
      { cat: 'Figma', tags: ['Figma'], text: 'Figma Communityの日本語テンプレート、最近とても充実してきていて。先輩たちが残してくれたコンポーネント設計を読み解く時間が、いちばん穏やかで深い学びになる。ひとりで学ぶ人のそばに、そっと寄り添ってくれる場所。' },

      // デザイン思考・マインド系
      { cat: 'マインド', tags: ['トレンド'], text: '40代でデザイナーになって1年。「若い人にはかなわないな」って静かに俯いた夜もある。でもね、20年間「使う人」として感じてきたこと、それはどんな教科書にも載っていない大切なもので。遅すぎるなんてこと、きっとないから。' },
      { cat: 'マインド', tags: [], text: 'デザインの4原則「近接・整列・反復・コントラスト」を知ってから、スーパーのチラシにも思わず見入ってしまうようになった。日常のすべてが、そっと教えてくれている。40代の目に映る世界は、思っていたより豊かだった。' },
      { cat: 'マインド', tags: [], text: '「なんかしっくりこない」を「余白がもう少しほしいかも」「コントラストをやさしくしたら」って言葉にできるようになった。この1年で得たいちばん大きなもの。感覚を言葉にすることが、デザインの第一歩なのかもしれない。' },
      { cat: 'マインド', tags: [], text: 'あの頃の自分に伝えたいこと。Dribbbleの美しい作品を見て落ち込まなくていいよ。「なぜ美しいと感じたのか」を3つだけ書き出してみて。感じることは才能。それを言葉にすれば、きっと自分のものになるから。' },
      { cat: 'マインド', tags: ['トレンド'], text: '最近のデザイントレンドはミニマル回帰。「足す」より「引く」って、実は繊細な感性が必要なこと。人生の中で学んだ「余白の大切さ」が、そのままUIに息づいている。40代の感受性が、静かに活きる場所がある。' },
      { cat: 'マインド', tags: [], text: 'デザインレビューで「もうちょっと良い感じに」と言われて、胸がぎゅっとなった新人の頃。今は「どの部分をどう変えましょうか」って、やさしく聞き返せるようになった。あの頃の痛みも、ちゃんと今の自分を作ってくれてる。' },
      { cat: 'マインド', tags: [], text: '朝のささやかなルーティン。目覚めたらDribbbleを3つだけ眺めて、Figmaでコンポーネントをひとつだけ作る。たった15分。でも半年続けたら、200個の小さな積み重ねになっていた。焦らなくていい、そう思えた朝。' },
      { cat: 'マインド', tags: [], text: '営業を10年やってからデザイナーに転身して、ひとつ気づいたこと。「使う人の気持ちが自然とわかる」って、思っていたよりずっとかけがえのない力だった。前の仕事で感じたことすべてが、今の自分をそっと支えてくれている。' },

      // トレンド・テクニカル
      { cat: 'トレンド', tags: ['トレンド'], text: '2026年のUIトレンド、少しだけ整理してみた。デザイントークン、AIとの共創、アクセシビリティ、マイクロインタラクション。どれもFigmaでそっと始められる。今からでも、ゆっくりで大丈夫。' },
      { cat: 'トレンド', tags: ['トレンド', 'AI'], text: '「AIに仕事を奪われるの？」って聞かれると、少し考え込んでしまう。でもきっと、人間にしかできないことがある。誰かの気持ちに寄り添うこと、文脈を読むこと、「これでいいのかな」と立ち止まれること。その繊細さこそが、これからの武器。' },
      { cat: 'トレンド', tags: ['トレンド'], text: 'ダークモードの対応、ただ色を反転するだけじゃ足りなくて。彩度をそっと落としたり、影を繊細に調整したり。細やかな気配りが求められるからこそ、丁寧に向き合える人が輝けるポイントだと思う。' },
      { cat: 'トレンド', tags: ['トレンド', 'Figma'], text: 'デザインシステムって「作る」だけじゃなくて「育てていく」ものなのかもしれない。Figma Variablesでトークンを整えて、Style Dictionaryでそっと実装につなげる。設計と開発の境界がやわらかく溶けていく、その感覚が心地いい。' },
      { cat: 'トレンド', tags: ['トレンド'], text: 'アクセシビリティって「しなきゃいけないこと」じゃなくて、「やさしいデザインの証」だと思う。コントラスト比を整えて、フォーカスを見えるようにして、代替テキストをそっと添える。それだけで、届く人がぐっと増える。' },
      { cat: 'トレンド', tags: ['トレンド'], text: 'レスポンシブデザイン、小さな画面から始めて広げていく方が、ずっとうまくいくって気づくまで半年かかった。最初から完璧じゃなくていい。小さなところから丁寧に積み上げていけば、ちゃんと形になっていくから。' },

      // 実践Tips
      { cat: 'Tips', tags: ['Figma'], text: 'もしデザインを始めたばかりなら、こんな方法はどうかな。好きなアプリをFigmaでそっとなぞってみて、「なぜこの配置なんだろう」と感じてみて、自分なりの案をひとつ出してみる。その繰り返しが、きっと自分だけの力になる。' },
      { cat: 'Tips', tags: [], text: 'フォント選びに迷って止まってしまったら、まずはNoto Sans JPから始めてみて。読みやすくてやさしい書体。そこから「なぜ読みやすいと感じるんだろう」と考えてみると、次のフォントへの道が見えてくる。焦らなくて大丈夫。' },
      { cat: 'Tips', tags: [], text: '配色で手が止まってしまう時のこと。まずは好きな色をひとつ選んで、その色の明るさを3段階に分けてみて。そこにアクセントをそっとひとつ。60-30-10の割合で並べるだけで、不思議と心地よい配色になるの。' },
      { cat: 'Tips', tags: ['Figma'], text: 'UIデザインでいちばん大切なのは、きっと余白。迷ったら余白を少し広げてみて。要素をひとつ減らしてみて。情報をそっと手放してみて。「引く」ことができるのは、繊細に感じ取れる人だからこそ。' },
      { cat: 'Tips', tags: ['AI'], text: 'Figma、ChatGPT、Midjourney。この3つがそばにあれば、40代からでもひとりで企画からプロトタイプまで作れる。でも本当に大事なのは道具じゃなく「誰のために、何を作りたいか」という、静かに燃える想いだと思う。' },
      { cat: 'Tips', tags: [], text: 'ボタンのデザインで気をつけていること。主役と脇役の階層をやさしく分けること、指で触れやすい大きさを確保すること、ラベルには「送信する」「保存する」と動詞を添えること。小さな気配りが、使う人の安心感になる。' },
      { cat: 'Tips', tags: ['トレンド'], text: 'UIをトレースする時、ピクセルの正確さよりも「なぜこうしたのかな」と想像してみることが大切。余白のリズム、色のやさしい使い分け、文字の大小。作った人の意図にそっと耳を傾けるトレースは、きっと深い成長につながる。' },
      { cat: 'Tips', tags: [], text: '40代でデザイナーに転身して学んだこと。ポートフォリオに並べるべきは「きれいな成果物」より「悩んで考えたプロセス」。なぜこの色を選んだのか、なぜこの配置にしたのか。理由をやさしく語れるデザイナーでありたい。' },
    ];

    const categories = ['すべて', 'AI', 'Figma', 'マインド', 'トレンド', 'Tips'];
    let currentCat = 'すべて';
    let shuffleSeed = Date.now();

    // ===== RENDER =====
    function getFiltered() {
      let f = currentCat === 'すべて' ? [...tweets] : tweets.filter(t => t.cat === currentCat);
      // Shuffle using seed
      const rng = seed => { seed = seed | 0; return () => { seed = seed + 0x6D2B79F5 | 0; let t = Math.imul(seed ^ seed >>> 15, 1 | seed); t = t + Math.imul(t ^ t >>> 7, 61 | t) ^ t; return ((t ^ t >>> 14) >>> 0) / 4294967296 } };
      const r = rng(shuffleSeed);
      for (let i = f.length - 1; i > 0; i--) { const j = Math.floor(r() * i);[f[i], f[j]] = [f[j], f[i]] }
      return f;
    }

    function renderTweets() {
      const f = getFiltered();
      document.getElementById('tweet-list').innerHTML = f.length ? f.map((t, i) => {
        const charCount = t.text.replace(/#\S+/g, m => 'x'.repeat(Math.min(m.length, 23))).length;
        const bodyHtml = t.text.replace(/#(\S+)/g, '<span class="hashtag">#$1</span>');
        return `<div class="tweet-card">
      <div class="tweet-top">
        <div class="tweet-avatar">D</div>
        <div class="tweet-user">
          <div class="tweet-name">40代新人デザイナー</div>
          <div class="tweet-handle">@designer_40s</div>
        </div>
      </div>
      <div class="tweet-body">${bodyHtml}</div>
      <div class="tweet-meta">
        <div class="tweet-tags">${t.tags.map(tg => { const c = tg === 'AI' ? 't-ai' : tg === 'Figma' ? 't-figma' : tg === 'トレンド' ? 't-trend' : ''; return `<span class="tweet-tag ${c}">${tg}</span>` }).join('')}</div>
        <span class="char-count ${charCount > 140 ? 'over' : ''}">${charCount}/140</span>
      </div>
      <div class="btn-row">
        <button class="copy-btn primary" id="copy-${i}" onclick="copyTweet(${i},'copy-${i}')">&#128203; コピーする</button>
        <button class="copy-btn secondary" onclick="postTweet(${i})" title="Xで投稿">&#120143; ポストする</button>
      </div>
    </div>`}).join('') : '<div class="empty">該当するポストがありません</div>';
    }

    function renderCats() {
      document.getElementById('cat-bar').innerHTML = categories.map(c => `<div class="cat-btn ${c === currentCat ? 'active' : ''}" onclick="selectCat('${c}')">${c === 'すべて' ? 'すべて (' + tweets.length + ')' : c + ' (' + tweets.filter(t => t.cat === c).length + ')'}</div>`).join('');
    }

    function renderStats() {
      const ai = tweets.filter(t => t.tags.includes('AI')).length;
      const figma = tweets.filter(t => t.tags.includes('Figma')).length;
      const trend = tweets.filter(t => t.tags.includes('トレンド')).length;
      document.getElementById('stats-bar').innerHTML = `
    <div class="stat-chip"><span>&#128203;</span> 全 <span class="stat-num">${tweets.length}</span> 件</div>
    <div class="stat-chip"><span>&#129302;</span> AI <span class="stat-num">${ai}</span></div>
    <div class="stat-chip"><span>&#9998;</span> Figma <span class="stat-num">${figma}</span></div>
    <div class="stat-chip"><span>&#128293;</span> トレンド <span class="stat-num">${trend}</span></div>`;
    }

    function selectCat(cat) { currentCat = cat; renderCats(); renderTweets() }
    function shuffle() {
      shuffleSeed = Date.now();
      const fab = document.getElementById('fab');
      fab.classList.remove('spinning');
      void fab.offsetWidth;
      fab.classList.add('spinning');
      renderTweets();
      showToast('&#8635; シャッフルしました');
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // ===== COPY =====
    function copyTweet(idx, btnId) {
      const f = getFiltered();
      const text = f[idx].text;
      navigator.clipboard.writeText(text).then(() => {
        const btn = document.getElementById(btnId);
        btn.classList.add('copied');
        btn.innerHTML = '&#10003; コピー完了!';
        showToast('&#10003; クリップボードにコピーしました');
        setTimeout(() => { btn.classList.remove('copied'); btn.innerHTML = '&#128203; コピーする' }, 2000);
      });
    }

    function postTweet(idx) {
      const f = getFiltered();
      const text = encodeURIComponent(f[idx].text);
      window.open('https://twitter.com/intent/tweet?text=' + text, '_blank');
    }

    // ===== INIT =====
    renderStats(); renderCats(); renderTweets();
  </script>
</body>

</html>